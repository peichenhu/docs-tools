function w(p,s,u,o=[]){const l={get(i,t,g){const y=Reflect.get(i,t,g),b=[...o,t.toString()],S=b.join();return typeof y=="object"&&y!==null?w(y,s,u,b):(s&&s(S),y)},set(i,t,g,y){const b=Reflect.set(i,t,g,y),m=[...o,t.toString()].join();return b&&u&&u(m),b}};return new Proxy(p,l)}const f=(p,s)=>Reflect.toString.call(p)===`[object ${s}]`;function x(p){const s=new WeakMap;return o(p);function u(n,c){return s.set(n,c)}function o(n){return n&&typeof n=="object"&&s.has(n)?s.get(n):f(n,"Object")?i(n,u):f(n,"Array")?l(n,u):f(n,"Map")?t(n,u):f(n,"Set")?g(n,u):f(n,"Symbol")?m(n):f(n,"Date")?y(n):f(n,"RegExp")?b(n):f(n,"Error")?S(n):n}function l(n=[],c){const e=[];c(n,e);for(const r of n)e.push(o(r));return e}function i(n,c){const e={};c(n,e);for(const r of Object.keys(n))e[r]=o(n[r]);for(const r of Object.getOwnPropertySymbols(n))e[o(r)]=o(n[r]);return e}function t(n,c){const e=new Map;c(n,e);for(const[r,j]of n)e.set(o(r),o(j));return e}function g(n,c){const e=new Set;c(n,e);for(const r of n)e.add(o(r));return e}function y(n){return new Date(n)}function b(n){const{source:c,flags:e}=n,r=new RegExp(c,e);return r.lastIndex=n.lastIndex,r}function S(n){const{name:c,message:e}=n;return new globalThis[c](e)}function m(n){return Symbol(n.description)}}function O(p){const s=x(p);u(s);function u(o){if(f(o,"Array")||f(o,"Object")){const l=o;for(const i of Object.keys(l)){const t=l[i];l[i]=f(t,"Symbol")?t.toString():u(t)}for(const i of Object.getOwnPropertySymbols(o)){const t=l[i];l[i.toString()]=f(t,"Symbol")?t.toString():u(t)}}return o}return JSON.stringify(s)}export{O as a,x as b,w as u};
